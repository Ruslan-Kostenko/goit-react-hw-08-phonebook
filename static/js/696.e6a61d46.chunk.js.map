{"version":3,"file":"static/js/696.e6a61d46.chunk.js","mappings":"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","sources":["pages/ContactEdit.js","redux/PhoneBook/selectors.js"],"sourcesContent":["import { useRef } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink, useLocation, useNavigate, useParams } from 'react-router-dom';\nimport { ErrorMessage, Field, Formik,Form } from 'formik';\nimport * as Yup from 'yup';\nimport { RiArrowLeftCircleFill } from 'react-icons/ri';\n\n\nimport { toast, Toaster } from 'react-hot-toast';\nimport { toastLoading } from 'redux/PhoneBook/phoneBookSlice';\nimport { selectContacts } from 'redux/PhoneBook/selectors';\nimport { fetchEditContact } from 'redux/PhoneBook/operations';\n\n\n\nconst formSchema = Yup.object().shape({\n  name: Yup.string()\n    .matches(\n      /^[a-zA-Za-яА-Я]+(([' -][a-zA-Za-яА-Я ])?[a-zA-Za-яА-Я]*)*$/,\n      'Wrong name format'\n    )\n    .required('Must be filled'),\n  number: Yup.string()\n    .matches(\n      /^\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}$/,\n      'Wrong number format'\n    )\n    .required('Must be filled'),\n});\n\nexport default function ContactEdit() {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const backLocationRef = useRef(location.state?.from ?? '/');\n  const { contactId } = useParams();\n  const allContacts = useSelector(selectContacts);\n  const currentContact = allContacts.find(contact => contact.id === contactId);\n\n  const initialValues = {\n    name: currentContact ? currentContact.name : '',\n    number: currentContact ? currentContact.number : '',\n  };\n\n  const handleSubmit = values => {\n    const updatedContact = {\n      name: values.name,\n      number: values.number,\n      contactId,\n    };\n\n    const editedName = values.name;\n    if (\n      allContacts.some(\n        contact => contact.name.toLowerCase() === editedName.toLowerCase()\n      )\n    ) {\n      toast.dismiss(toastLoading);\n      toast.success(\n        `Oops! ${editedName} is already exists!!! Please change it...`,\n        {\n          duration: 2000,\n          position: 'top-center',\n        }\n      );\n      return;\n    }\n\n    dispatch(fetchEditContact(updatedContact));\n    toast.dismiss(toastLoading);\n    toast.success(`Contact of ${updatedContact.name} is updated!`, {\n      duration: 2000,\n      position: 'top-center',\n    });\n    setTimeout(() => {\n      navigate(-1);\n    }, 2200);\n  };\n\n  return (\n    <>\n      <NavLink to={backLocationRef.current}>\n        <RiArrowLeftCircleFill /> Go back\n      </NavLink>\n\n      <div>\n        <Helmet title=\"Edit contact\" />\n\n        <h2>Let's edit your contact</h2>\n\n        <Formik\n          initialValues={initialValues}\n          validationSchema={formSchema}\n          onSubmit={handleSubmit}\n        >\n          <Form>\n            <label>\n              <Field\n                type=\"text\"\n                name=\"name\"\n                placeholder={`${currentContact.name}`}\n              />\n              <ErrorMessage name=\"name\" component=\"b\" />\n            </label>\n            <label>\n              <Field\n                type=\"tel\"\n                name=\"number\"\n                placeholder={`${currentContact.number}`}\n              />\n              <ErrorMessage name=\"number\" component=\"b\" />\n            </label>\n            <button type=\"submit\">Confirm changes</button>\n          </Form>\n        </Formik>\n        <Toaster />\n      \n      </div>\n    </>\n  );\n}","import { createSelector } from '@reduxjs/toolkit';\n\nexport const selectContacts = state => state.contacts.items;\n\nexport const selectTotalContacts = state => state.contacts.items.length;\n\nexport const selectContactsStatus = state => state.contacts.isLoading;\n\nexport const selectContactsError = state => state.contacts.error;\n\nexport const selectFilter = state => state.filter;\n\nexport const selectVisibleContacts = createSelector(\n  [selectContacts, selectFilter],\n  (contacts, filterField) =>\n    contacts.filter(contact =>\n      contact.name.toLowerCase().includes(filterField.toLowerCase())\n    )\n);"],"names":["formSchema","Yup","shape","name","matches","required","number","ContactEdit","_location$state$from","_location$state","dispatch","useDispatch","navigate","useNavigate","location","useLocation","backLocationRef","useRef","state","from","contactId","useParams","allContacts","useSelector","selectContacts","currentContact","find","contact","id","initialValues","_jsxs","_Fragment","children","NavLink","to","current","_jsx","RiArrowLeftCircleFill","Helmet","title","Formik","validationSchema","onSubmit","values","updatedContact","editedName","some","toLowerCase","toast","toastLoading","concat","duration","position","fetchEditContact","setTimeout","Form","Field","type","placeholder","ErrorMessage","component","Toaster","contacts","items","selectTotalContacts","length","selectFilter","filter","createSelector","filterField","includes"],"sourceRoot":""}